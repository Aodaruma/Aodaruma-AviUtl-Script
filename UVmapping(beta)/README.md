# UVmapping

UVマッピングをAviUtl上で行うことができるスクリプトです。

現在は **version 0.21** が最新です。

以下のスクリプトが備わっています。

## @UVmapping_old

DLLを用いず、AviUtl上の関数のみでUVマッピングを行うことができるスクリプトです。

### Map

オブジェクトの画像から、UVマッピングを行うためのUVマップとして保存します。
具体的には、マップのYCaCbのCaとCbをXY座標に対応させます。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - run
    - 保存を実行します。
  

### Main

保存したマップ画像を元に、対象のオブジェクトに対してUVマッピングを行います。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**

  - layer

    - マップ画像を保存したレイヤーを選択します。

      -1で直前のレイヤー、0で現在のレイヤー、そのほかの数字はレイヤー数で指定されます。

  - type

    - 色情報と座標を次のように対応させます。

      1. `Ca`→`x`, `Cb`→`y`
      2. `Ca`→`y`, `Cb`→`x`

  - Angle

    - ピクセル角度が指定できます

  - AF(%)

    - 元のピクセルの位置と移動後のピクセルの位置をどれだけ補間するか設定します。
  
  - MAPのフィルタを反映
  
    - マップ画像に付与されているエフェクト群をすべて適用するかどうか設定します。

## @UVmapping_tester

DLLを用いてAviUtl上でUVマッピングを行うスクリプトです。

### makeMap

元となるマップ画像を生成するスクリプトです。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 作成する
    - 元のUVマップ画像生成するかどうか設定します。

### saveMap

オブジェクトの画像から、UVマッピングを行うためのUVマップとして保存します。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 保存場所
    - マップ画像を保存する格納先IDを指定します。
  - 保存する
    - マップ画像を保存するかどうか設定します。

### mapping

保存したマップ画像を元に、対象のオブジェクトに対してUVマッピングを行います。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 格納場所
    - マップ画像を読み込む格納先IDを指定します。
  - マッピングする
    - マップ画像から、対象のオブジェクトにUVマッピングを行うかどうか設定します。

## 導入方法 / how to install

[上の階層](https://github.com/Aodaruma/Aodaruma-AviUtl-Script)を参照してください。

## ライセンス / Licence

[上の階層](https://github.com/Aodaruma/Aodaruma-AviUtl-Script)を参照してください。[ここ](https://github.com/Aodaruma/Aodaruma-AviUtl-Script/blob/main/LICENSE)にも書いてあります。

## バグ・意見 / how to report bugs

バグや意見等については、Twitter の DM に送るか、issue を立ち上げてください。

## 変更履歴 / change log

- v0.21 - 配布をGithubリポジトリーに変更。説明文を変更しました。
- v0.2 - DLL版追加。
- v0.1 - スクリプト版正式配布。
