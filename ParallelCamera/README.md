# ParallelCamera

カメラを平行移動させることができるスクリプトです。

現在は **version 1.11** が最新です。

![youtube](https://www.youtube.com/watch?v=apWXd0f95eE)

https://www.youtube.com/watch?v=apWXd0f95eE

以下のスクリプトが備わっています。

## ParallelCamera.cam

### @ParallelCamera

カメラを平行移動させたり、縦横に回転させることができるスクリプトです。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**

  - 視線和
    
    - カメラの座標から視線までの距離を設定します
    
  - カメラ縦転
    - Y軸方向（ピッチ）にどれだけ回転させるか設定します。
    
  - カメラ横転
    - X軸方向（ヨー）にどれだけ回転させるか設定します。
    
  - カメラ座標出力
    - 現在のカメラの座標を、グローバル変数 `PC` にてテーブルで出力します。
      出力したテーブルは、以下の構造になっています。

      ```lua
      PC = {
        layer1 = {
          cam.x, cam.y, cam.z, cam.tx, cam.ty, cam.tz
        },
        layer2 = {...},
        ...
      }
      ```

      

- **ダイアログ**

  - カメラ情報表示
    
    - 同封される `ParallelCameraToObj.anm`  スクリプトを用いて、現在のカメラの情報を表示します。
    
      別レイヤーのオブジェクトにて、 `ParallelCameraToObj.anm`  スクリプトの**@情報表示** が適用されていることが必要です。
    
  - ~~*カメラ平行視線先pos*~~
    
    - 使用されていないダイアログ欄です。
    
  - Parallel(On)
    - 平行移動を行うかどうか設定します。
    
  - Z視線和
    - Z軸方向に視線和を用いて視線座標を設定するかどうか設定します。

### @ParallelCamera(簡易)

スクリプト**@ParallelCamera** の回転や座標出力等の機能を排除し、平行移動のみに簡略化したスクリプトです。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 視線和
    - +Z軸方向にカメラの座標から視線までの距離を設定します。

## ParallelCameraToObj.anm

### @カメラ視線に同期

スクリプト `ParallelCamera.cam` の**@ParallelCamera** が適用されているカメラの視線先にオブジェクトを移動させるスクリプトです。

カメラオブジェクトの適用されているスクリプトにて、座標出力が行われていることが必要です。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 変換度(%)
    - 元の座標と同期した座標の変形度を設定します。
  - ずれX
    - 変換後の座標が、X軸方向にどれだけ移動するか設定します。
  - ずれY
    - 変換後の座標が、Y軸方向にどれだけ移動するか設定します。
  - ずれZ
    - 変換後の座標が、Z軸方向にどれだけ移動するか設定します。
  - 表示
    - オブジェクトを表示するかどうか設定します。
- **ダイアログ**
  - Seed
    - `回転ランダム` チェック時にの、乱数のseedを設定します。
  - カメラの方向を向く
    - オブジェクトがカメラ方向に対して垂直に向くかどうか設定します。
  - 回転ランダム
    - オブジェクトをあらゆる方向にランダムに回転させます。
  - シャドーから対象外にする
    - オブジェクトをカメラ効果 **シャドー** の対象外にするかどうか設定します。
  - 座標を加算
    - 移動後の座標を元の座標に加算するかどうか設定します。
  - 複数obj対応
    - 個別オブジェクトに対応させます。

### @情報表示

カメラの情報をオブジェクトを用いて表示させます。

カメラオブジェクトの適用されているスクリプトにて、**情報表示**にチェックされていることが必要です。

以下はパラメーターの説明です。

- **トラックバー/チェックボックス**
  - 表示
    - 情報を表示するかどうか設定します。
  - fontsize
    - 情報のテキストのサイズを設定します。
  - CLayer
    - カメラオブジェクトのレイヤーを指定します。

## 導入方法 / how to install

[上の階層](https://github.com/Aodaruma/Aodaruma-AviUtl-Script)を参照してください。

## ライセンス / Licence

[上の階層](https://github.com/Aodaruma/Aodaruma-AviUtl-Script)を参照してください。[ここ](https://github.com/Aodaruma/Aodaruma-AviUtl-Script/blob/main/LICENSE)にも書いてあります。

## バグ・意見 / how to report bugs

いくつかのバグが確認されていますが、今後の修正予定は未定です。
尚、既知のバグは以下のとおりです。

- [ ] `PararellCamera.cam`のスクリプトである**@PararellCamera** の意図しない挙動

その他に確認されたバグ等については、Twitter の DM に送るか、issue を立ち上げてください。

## 変更履歴 / change log

- v1.11 - 配布をGithubリポジトリーに変更。説明文を変更しました。
- v1.1 - カメラ回転の際、特定の角度で発生するバグを修正。また、回転の情報表示も加える。
- v1.0 - ParallelCamera、正式版作成。
