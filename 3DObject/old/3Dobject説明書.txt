
v1.3

前にAULモデリングを見かけて、いろいろと不便だなーと思ったので作成いたしました。

一応最初に図形関数設定を行わないと描画できない仕様となっております。(ほかのスクリプトとの競合を防ぐため)

また、機能の一部を使用するには、以下のスクリプトが必要になりますが、使用するかどうかは任意です。(もし入れないで実行した場合でも、ちゃんとエラーが表示されます。)

◆◆◆◆◆◆◆◆◆◆ 必要になるかもしれないスクリプト ◆◆◆◆◆◆◆◆◆
	「rikky_module v1.3以上」
		by rikky_mouse
	http://hazumurhythm.com/wev/

	「DelayMove」
		by 93
	https://www.dropbox.com/sh/u73uud29hcxlply/AABH9ZhzL1P1kX-bWrL4asdDa?dl=0&preview=old_script_etc.zip

◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆

<<< 開発者の方へ >>>
図形関数設定でmeshというテーブルで描画関数が設定されます。

mesh.Rectで四角形、mesh.Triで三角形のポリゴン体が描画できます。
第一引数で色を設定しますが、trueにするとgetpixelで中心のピクセルの色を取得してくれます(平均値はまたmedia/figure判定で更新予定)
<<<<<<< >>>>>>>
◆◆◆◆◆◆◆◆}◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆　説明書　◆◆◆◆◆◆◆◆◆◆◆◆◆◆
図形関数設定(必須):
	Affect%[track]:
		変形率を指定します。percent。

	AprType[track]:
		変形タイプを指定します。

	Refl(rikky)[track(check 0 or 1 or 2)]:
		rikky氏の光源反射関数を使い光源反射、または屈折反射関数を使い屈折を行います。
		rikky氏のdll、「rikky_module」が必要です。
			=== 使用方法 - 光源反射 ===
				1. "光源設置(3Dobjectの物とは別に単体で設定してください)"を3DObjectを使用する
					オブジェクトより上の光源に設定するオブジェクトに設置します。
				2. オブジェクトの図形関数設定の後に、"反射設定(図形関数設定の直後に設定してください)"を設定します。
				3. 図形関数設定の「反射(rikky)」の値を 1 にすると実行されます。

			=== 使用方法 - 屈折描画 ===
				1. オブジェクトの図形関数設定の後に、"屈折設定(図形関数設定の直後に設定してください)"を設定します。
				2. 図形関数設定の「反射(rikky)」の値を 2 にすると実行されます。
			===============

	Mtrl(type)[track]:
		オブジェクトにテクスチャを張り付け方を指定することができます。
		基本的に、図研関数設定より上に設定されたエフェクトをテクスチャとして設定します。
		ただし、光源反射と併用するととても重たくなるので、防止対策にReflとは併用できなくなっています。
			type:
				0: 図形をテクスチャとして使用せず、図形の中心の色でテクスチャを作ります。。
				1: 図形をテクスチャとして使用します。
					ただし、uvは縦横比に関係なく引き伸ばされます。
				2: 図形をテクスチャとして使用します。
					ただし、uvは縦横比を考慮して設定されます。
				3: 図形をテクスチャとして使用します。
					オブジェクトごとに特定の場合において、反対向きにuvを設定します。
				4: 図形をテクスチャとして使用します。
					オブジェクトごとに特定の場合において、3とは違う方向で反対向きにuvを設定します。
				5: 特殊なuvにおいて使用されます。
					設定する必要がなければ単色マテリアルとして設定されます。

	DelayTrackT[check]:
		93氏のスクリプト「DelayMove」の一つ「DelayTrackT」を使用して変形をずらすことができます。
		93氏のスクリプト「DelayMove」が必要です。check。
			=== 使用方法 ===
				1. DelayTrackTを図形関数設定より上に設定します。
				2. DelayTrackTの添え字を設定します。(そのまま設定しているなら変えなくても構いません。)
				3. DelayTrackTのトラック番号を指定します。
				4. 指定したトラックを動かすと、ずれて変形されます。
			===============

	DTT添え字:
		DelayTrackTに使用する添え字をここで指定します。string。

	DTTトラック[1-4]:
		DelayTrackTで使用するトラックバーを指定します。integer[1-4]。

	非表示[check]:
		ログ及び実行が成功したかのステータスを非表示にします。

光源設置(3Dobjectの物とは別に設定してください):
	光源度%[track]:
		光源の強さを設定します。%表示です。

	Damping[track]:
		光源の減衰率です。

	幅角度[track]:
		光源の半径を設定します。
		単位は度数法です。

	描画細度[track]:
		光源の減衰をどれだけ細かく計算するかを設定します。
		数値が小さいほど細かく計算できます。

	dialog:
		以下はrikky_moduleバージョン1.3以上の機能を使用した特殊なダイアログです。
		rikky_moduleバージョン1.3以上を導入していないと動作しません。
			Main[color]:
				光源の色を設定します。

			spot/direct[check]:
				点光源か、面光源かを設定します。
				チェックをつけると面光源が設定できます。

			BothSide[check]:
				光源を反対方向にも設定します。



反射設定(図形関数設定の直後に設定してください):
	影響度%[track]:
		反射の度合いを設定します。
		0%で反射されなくなります。

	ﾊｲﾗｲﾄｼｬｰﾌﾟ[track]:
		ハイライトの反射度合いです。
		値が小さいほど鋭く反射されます。

	dialog:
		以下はrikky_moduleバージョン1.3以上の機能を使用した特殊なダイアログです。
		rikky_moduleバージョン1.3以上を導入していないと動作しません。
			Specular[color]:
				反射色を設定します。

			Ambient[color]:
				環境色を設定します。

			Emissive[color]:
				発光色を設定します。

			Details[check]:
				面光源の場合に、細かく反射を計算するかを設定します。

			└ Finess[track]:
				Detailsにおいて、どれだけ細かく反射を計算するかを設定します。
				値が小さいとより細かく設定します。

光源初期化(最初の光源で光源設定の前に必ず設定してください):
	透明化[track]:
		オブジェクトを透明化します。
		1で透明になります。

	メッセージ非表示[check]:
		メッセージを非表示にします。

屈折設定(図形関数設定の直後に設定してください):
	blur[track]:
		ガラスの屈折のぼかし具合を設定します。

	refr(%)[track]:
		ガラスの屈折率を設定します。

	zoom%[track]:
		屈折描画処理の拡大率を設定します。

	lens[type][track]:
		ガラスの描画処理を設定します。
		1で凸レンズ気味に、2で凹レンズ気味に処理します。

	dialog:
		以下はrikky_moduleバージョン1.3以上の機能を使用した特殊なダイアログです。
		rikky_moduleバージョン1.3以上を導入していないと動作しません。
			Colorize[check]:
				ガラスに色を付けるかどうか設定します。

			└ color[color]:
				上記のガラスに色を付ける際に色を指定します。

			reverse[check]:
				反転処理をするかどうか設定します。

			└ All/UD/LR[track]:
				上記の反転処理の処理タイプを設定します。
				1 で上下左右、 2 で上下、 3 で左右に反転します。

			offsetZ[track]:
				フレームバッファでの仮想的な高さを調整します。

			boundary[1-3][track]:
				屈折の際、画像の端の処理を設定します。
					1: 境界までくると反対側からループしてような処理になります
					2: 境界より先はイメージが反転した処理になります
					3: 境界の色を引き延ばした処理になります
					(rikky_moduleの使い方より引用)

			async[check]:
				屈折する画像を常時更新するよう設定します。

			culling[check]:
				裏面を表示しないようにします。
				ただし、私の3Dobjectだと度々がばがばな面処理をしているので、あまりお勧めはできません。

立方体/直方体:
	width[track]:
		横幅を指定します。pixel。

	height[track]:
		縦幅を指定します。pixel。
	
	depth[track]:
		深幅を指定します。pixel。

	ログ表示[track(check 0 or 1)]:
		ログ表示アプリにおいてログを表示するか指定します。
	
	表示[check]:
		描画するかを指定します。


球/多角体:
	radius[track]:
		半径を指定します。pixel。

	width%[track]:
		横幅の倍率を指定します。percent。

	height%[track]:
		縦幅の倍率を指定します。percent。

	depth%[track]:
		深幅の倍率を指定します。percent。

	分割数[number / integer]:
		面体の分割数を指定します。整数(自然数)。

	ログ表示[check]:
		ログ表示アプリにおいてログを表示するか指定します。

	ｶｯﾃｨﾝｸﾞ(縦)%[table]:
		球を縦にカットすることができます。
		例:	{{0,100}}
		 		=  0%~100%を表示する。
			{{20,30}, {50,60}}
				=  20%~30% と 50%~60%　を表示する。

	表示[check]:
		描画するかを指定します。


円錐/多角錐:
	radius[track]:
		底面の半径を指定します。pixel。

	height[track]:
		縦幅を指定します。pixel。

	width%[track]:
		横幅の倍率を指定します。percent。

	depth%[track]:
		深幅の倍率を指定します。percent。

	分割数[number / integer]:
		面体の分割数を指定します。整数(自然数)。
		◆お得情報◆
			分割数を3や4などにすると、三角錐や四角錐などが出来上がります。

	ログ表示[check]:
		ログ表示アプリにおいてログを表示するか指定します。

	表示[check]:
		描画するかを指定します。


円柱/多角柱:
	radius[track]:
		底面の半径を指定します。pixel。

	height[track]:
		縦幅を指定します。pixel。

	width%[track]:
		横幅の倍率を指定します。percent。

	depth%[track]:
		深幅の倍率を指定します。percent。

	分割数[number / integer]:
		面体の分割数を指定します。整数(自然数)。

	ログ表示[check]:
		ログ表示アプリにおいてログを表示するか指定します。

	扇%[number]:
		扇型に描画する指定ができます。100%ですべて描画します。percent

	表示[check]:
		描画するかを指定します。


トーラス:
	radius[track]:
		底面の半径を指定します。pixel。

	height%[track]:
		トーラス幅を指定します。percent。

	width%[track]:
		横幅の倍率を指定します。percent。

	depth%[track]:
		深幅の倍率を指定します。percent。

	height%[track]:
		縦幅の倍率を指定します。percent。

	分割数[number / integer]:
		面体の分割数を指定します。整数(自然数)。

	ログ表示[check]:
		ログ表示アプリにおいてログを表示するか指定します。

	扇%[number]:
		扇型に描画する指定ができます。100%ですべて描画します。percent

	扇縦横逆転[check]:
		扇型に描画する指定を、縦に描画していくか横に描画していくかを指定することができます。

	表示[check]:
		描画するかを指定します。


まだまだ機能追加中...
◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆◆


一通りこのような感じです。
図形を用意して、その図形のサイズを1にして適応するととても軽いです。
また、図形の色の設定から自動的に色を抽出します。

現在の機能はここまでです。
何か質問、追加してほしい立体図形や機能があればお気軽にTwitterまでお申し付けくださいませ。

Developed by Aodaruma
Twitter: @Aodaruma_
LastEdit:20:58 2017/05/12

-----------------
version更新
v1.3 -
	光源反射をrikky_moduleの上位版関数に設定
	マテリアル設定を追加
	rikky_moduleにおける特殊ダイアログ機能を追加
	その他バグ等修正

v1.2 -
	光源反射機能を追加。
	球をカットする機能を追加。
	変形方法を追加。
	その他バグを修正。

v1.1 -
	二つ表示されてしまうバグを修正。
	トーラス型を追加。
	円柱、トーラス型に扇形機能を追加。

v1.0 -
	スクリプトを作成。
	直方体、球、円錐、円柱などを追加。


------------------
